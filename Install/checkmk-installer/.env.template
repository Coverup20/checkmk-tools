# CheckMK Installer Configuration Template
# Copy this file to .env and customize for your environment

#############################################
# System Base Configuration
#############################################

# Timezone (e.g., Europe/Rome, America/New_York, UTC)
TIMEZONE="UTC"

# SSH Configuration
SSH_PORT="22"
PERMIT_ROOT_LOGIN="no"
CLIENT_ALIVE_INTERVAL="300"
CLIENT_ALIVE_COUNTMAX="3"
LOGIN_GRACE_TIME="60"
SSH_PASSWORD_AUTH="yes"

# Root password (leave empty to skip)
ROOT_PASSWORD=""

# NTP Servers (space-separated)
NTP_SERVERS="0.pool.ntp.org 1.pool.ntp.org 2.pool.ntp.org 3.pool.ntp.org"

# Firewall Settings
OPEN_HTTP_HTTPS="no"
FAIL2BAN_EMAIL="root@localhost"
SMTP_RELAY_HOST=""

# System Tweaks
DISABLE_IPV6="no"

#############################################
# CheckMK Server Configuration
#############################################

# Install CheckMK Server? (yes/no)
INSTALL_CHECKMK_SERVER="no"

# CheckMK Download URL
# Example: https://download.checkmk.com/checkmk/2.4.0p15/check-mk-raw-2.4.0p15_0.jammy_amd64.deb
CHECKMK_DEB_URL=""

# CheckMK Site Configuration
CHECKMK_SITE_NAME="monitoring"
CHECKMK_HTTP_PORT="5000"
CHECKMK_ADMIN_PASSWORD=""

# Install agent on server itself?
INSTALL_LOCAL_AGENT="yes"

#############################################
# CheckMK Agent Configuration (for clients)
#############################################

# CheckMK Server IP (leave empty if this is the server)
CHECKMK_SERVER=""

# Agent connection method
USE_SYSTEMD_SOCKET="yes"  # yes = systemd socket, no = xinetd

#############################################
# Ydea Cloud Toolkit Configuration
#############################################

# Ydea API Credentials
YDEA_ID=""
YDEA_API_KEY=""

# User IDs for ticket/note creation
YDEA_USER_ID_CREATE_TICKET="4675"
YDEA_USER_ID_CREATE_NOTE="4675"

# Tracking Configuration
YDEA_TRACKING_RETENTION_DAYS="365"
YDEA_MONITOR_INTERVAL="30"  # minutes

# Monitoring method
USE_SYSTEMD_TIMER="yes"  # yes = systemd timer, no = cron

# Debug mode
YDEA_DEBUG="0"  # 0 = off, 1 = on

#############################################
# FRPC Client Configuration
#############################################

# FRPC Server Details
FRPC_SERVER_ADDR=""
FRPC_SERVER_PORT="7000"
FRPC_TOKEN=""

# Port Mappings
FRPC_REMOTE_PORT=""          # Remote port for CheckMK agent
FRPC_SSH_REMOTE_PORT=""      # Remote port for SSH (optional)

# Admin Interface
FRPC_ADMIN_USER="admin"
FRPC_ADMIN_PWD="admin"

# Version and Options
FRPC_VERSION="0.52.3"
FRPC_DOMAIN="example.com"

#############################################
# Advanced Options
#############################################

# Logging
VERBOSE="0"              # 0 = normal, 1 = verbose output
LOG_LEVEL="INFO"         # DEBUG, INFO, WARNING, ERROR

# Email Configuration
SMTP_SERVER=""
SMTP_PORT="25"
MAIL_FROM=""
MAIL_RELAY_HOST=""

#############################################
# Notes
#############################################

# To use this template:
# 1. Copy to .env: cp .env.template .env
# 2. Edit .env with your values
# 3. Run: sudo ./installer.sh
#
# Or use the interactive wizard:
#   sudo ./config-wizard.sh
